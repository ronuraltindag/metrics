--- 
title: 'EC282: Introduction to Econometrics'
author: "Onur Altındağ"
date: 'Last update: `r Sys.Date()`'
output:
  html_document:
    df_print: paged
description: This book teaches econometrics like a 21st century humanoid would want
  to learn it.
documentclass: book
geometry: margin=2cm
link-citations: yes
bibliography:
- book.bib
- packages.bib
site: bookdown::bookdown_site
biblio-style: apalike

---

# Syllabus {-#syllabus}

## Course description {-#course-desctiption}


This course aims to introduce 21st century econometric analysis to business students. It provides tools to infer meaningful information from data using descriptive and regression analyses. In the first half of the semester, we will review the basic statistics used in econometrics and introduce mechanics of univariate and multivariate regressions. In the second half, we focus on causal interpretation of regression results, measures of fit, choice of functional form, multicollinearity and issues related to overfitting a prediction model and how to fix them. 

At the end of the semester, I expect you to be familiar with **R** and **RStudio** interface, basic data manipulation, obtaining and interpreting sample statistics, conduct meaningful regression analysis and prediction. Importantly, I expect you to have a clear understanding of the distinction between correlation and causation, and the  conditions in which the former implies the latter. 


### Knowledge and Skills {-#knowledge} 

* Compute and interpret the descriptive statistics of a sample.
* Understand the statistical uncertainty, construct and interpret the confidence intervals.
* Conduct hypothesis testing, interpret the test statistic and the results of a statistical test. 
* Construct a multivariate regression model, empirically estimate the model and interpret the results.
* Basic understanding of the randomized controlled trials and the  causal inference. 
* Choose and modify the functional form of a relationship between the output and the input variables. 
* Interpret the regression coefficients on models with interaction variables. 
* Understand the concept of overfitting and the difference  between in-sample and out-of-sample performance of a prediction model.  

### Perspectives {-#perspectives}

* Learn how to conduct a regression analysis, understands its limitation in inferring a causal relationship, generalize its results, and the prediction of an outcome that is unknown to the researcher.

* Understand the regression diagnostics to choose the most appropriate definition of predictors, outcome, functional form, and regressor. 



## Class Information {-#class-information}
### Contact {-#contact-information}

- **Instructor**: Onur Altındağ
- **Course web**:   https://ronuraltindag.github.io/metrics/
- **Personal web** :   [www.onuraltindag.info](https://www.onuraltindag.info/)
- **Office**: [Click here to make an appointment](https://calendly.com/ronuraltindag/office_hrs)
- **Email**: `oaltindag@bentley.edu`       

### Office hours {-#office-hours}

Please go to [my calendar](https://calendly.com/ronuraltindag/office_hrs) and book a virtual office hour to meet me (20 minutes maximum). Email me if you need to talk to me urgently or there is no availability on my calendar. 

### Textbook {-#textbook} 

- Stock, J. H., & Watson, M. W.  Introduction to Econometrics, any edition. Pearson Education Limited. -- **required**
- E-book:  [https://www.econometrics-with-r.org/](https://www.econometrics-with-r.org/) -- **optional** 

### Important Dates {-#important-dates}

- Weekly homework assignments: Indicated on this web page, subject to change depending on our pace.   
- First  Midterm: **Feb 22, 2020**  
- Second Midterm : **Mar 29, 2020** 
- Final exam: **Apr 29, 2020**

**Important note:**  All homework assignments should be posted under the designated **GitHub** issue.   

### Evaluation {-#evaluation}

- First Midterm:      20%
- Second Midterm:     20%
- Final exam:         30%
- Assignments:        20%
- Participation:      10%

### Software and Collaborative Work {-#software-and-collaborative-work}

- **R** and **RStudio**:  I assume that you have a basic familiarity with or expect your effort to gain familiarity throughout the semester. The instructions installation, some basic rules and best practices on coding are on this web page. Keep in mind that this course is **not** designed to teach you R and more than anything, the best way to learn programming is to actually work on assigned problems.   

- **Github**: To create a collaborative and interactive teaching environment, you need to create an account on [GitHub](https://github.com/) using your Bentley email address and accept the project invitation that you will receive from me for EC282. You will only use the very basic tools on [GitHub](https://github.com/), mainly issues and discussions tabs to  submit your homework assignment, ask questions about them, post an answer, and learn R from me and your peers through sharing your code.

### Grading {-#grading}   

- **High-stake assessments**      
          - **2 Midterms** + **Final**: Constitute 70% of your final grade. I will post the exams on **Black Board** and you will have a **24 hours** submission period. **DO NOT** try to submit the exams on last minute as the system will close after the deadline and I will not accept it. 
          
    You **MUST** attend the midterms and the final as there will be no make-up exams. The midterms and the final are not cumulative. If you miss or are likely to miss a **midterm** due to an emergency, please contact me as soon as possible. You will need to provide supporting documentation/verification of your absence. I will re-weight your final exam if you have a valid excuse.  If you miss the final exam due to an emergency, you will receive an **incomplete** for this course. **DO NOT** take this class if you know that you will not be able to attend the final exam.     
    
              
    
- **Low-stake assessments**     
         - **Bi-weekly homework assignments:** The homework assignments are posted on this web page with the deadlines. They can be completed in groups of **maximum two** students but each person should post separate answers under the designated **Github** issue.You need to post your work on **GitHub** before Monday meeting after the deadline. Do the best you can with these assignments, work consistently, do not free ride on your friends, and do not cheat. The data sets that each of you will receive are different so I will not tolerate if I see aby copied/pasted answers on GitHub.      
        - **Collaborative participation to [GitHub](https://github.com/)  and classroom discussions:** You must sign up for a free account on [GitHub](https://github.com/). Github is an eco-system for web development and version control using Git. You will only need to use the `issues` and `discussions` tab through either creating an issue to ask or answer a question on your or your peer's empirical analysis, homework assignment, or anything related to econometric analysis. I expect you to actively participate to the discussion on GitHub as it will determine your participation grade. Both asking and answering a question in a meaningful way contributes to your participation grade. To sum, you expect you to actively participate to the online community discussions on GitHub. I will do my best to facilitate the discussion yet I need your active support to make this environment useful for all.           
    

    

### Academic Integrity {-#academic-integrity}

Learning is a privilege that demands responsibility. At Bentley, students and faculty are members of an academic community that supports integrity both inside and outside the classroom. The expectation at Bentley is that students will take advantage of the opportunity for intellectual development and, in doing so, will conduct themselves in a manner consistent with the standards of academic integrity. When these standards are violated or compromised, individuals and the entire Bentley community suffer. Students who engage in acts of academic dishonesty not only face university censure but also may harm their future educational and employment opportunities. In other words, don’t bring unauthorized materials into exams, don’t plagiarize someone else’s work, and make sure that your collaborations are conducted in accordance with university and course policy.  

All students have access to Bentley’s academic integrity policy on Blackboard (via the Academic Integrity course page) and the Undergraduate Student Handbook/Graduate Catalog. The best way to avoid a problem is to consult with your instructor before taking any action that might constitute a violation. 


### Diversity Inclusion and Support {-#diversity-inclusion-and-support}

**Statement of Diversity and Inclusion**

My goal in this class is to create a teaching environment that is inclusive for all of the members of our small community independent of their race, gender, age, disability status, and political or religious views. Our differences strengthen our ability for perspective taking, being critical about our default believes,and enhance learning.   

I will try to reach this goal within my best capacity by respect and professionalism in our class-related engagements and I anticipate students to do the same. These standards of appropriate conduct are well summarized by [Bentley's Core Values](https://www.bentley.edu/about/mission-and-values) in our institution's mission statement. If you feel that I or anyone in this class has acted outside these values, please come to me so that we may discuss your experience. If you do not feel comfortable coming to me with your concerns, I encourage you to speak with someone in the Office of Academic Advising: 781.891.2803, academic_services@bentley.edu, Jennison 336.      

**Bias Incident Response**

The Bias Incident Response Team (BIRT) provides students affected by bias or bias-related incidents with access to appropriate resources. Where appropriate, BIRT assists the University in its response to situations that may impact the overall campus climate related to diversity and inclusion. Working closely with appropriate students, faculty, committees, organizations, and staff, BIRT plays an educational role in fostering an inclusive campus community and supporting targeted individuals when bias or bias-related incidents occur. More information about BIRT and how to file a bias incident report can be found at: https://www.bentley.edu/offices/student-affairs/birt

**Disability Services** 

Bentley University abides by Section 504 of the Rehabilitation Act of 1973 and the Americans with Disabilities Act of 1990 which stipulate no student shall be denied the benefits of an education solely by reason of a disability. If you have a hidden or visible disability which may require classroom accommodations, please call (if you are a residential student or on online student) Disability Services within the first 4 weeks of the semester to schedule an appointment. Disability Services is located in the Office of Academic Services (JEN 336, 781.891.2004). Disability Services is responsible for managing accommodations and services for all students with disabilities. 

The Undergraduate Academic Services (UAS) Peer Tutoring program offers online one-on-one and small group tutoring services for students who have worked with their instructors and made use of the Learning Centers, but still require additional academic support. The program goal is to help those students in true need who are willing to take responsibility for their own learning. Please reach out to me if you need more information. 

**The Howard A. Winer ‘58 Lab for Economics, Accounting and Finance (LEAF)** 

The center provides additional support for students on course materials and learning.  For additional information, visit: 
https://www.bentley.edu/centers/leaf



### Online Attendance {-#online-attendance}

**Zoom Protocol and Online Attendance** 

Students **must** join classes through their Bentley Zoom account. Go to [bentley.zoom.us](https://bentley.zoom.us) and enter the course meeting number to join the session. 

I expect you to attend class with a functioning microphone and camera. Cameras should be on to effectively engage in class and participate throughout the course. If you have an impediment to keeping your camera on, please let me know so that we can work to arrive at a mutually agreeable solution.

You are expected to be able to access all electronic course materials. It is your responsibility to review the course syllabus as soon as possible to determine what resources or materials I expect you to use in the course. If you are a student in an international location that may limit access to certain internet resources, please let me know immediately so you can find a solution. 

Students are expected to attend classes synchronously despite potential time zone hurdles. Solely watching recorded classes is not deemed to be acceptable course participation or completion. Course recordings are for the benefit of students who miss an occasional class or would like to watch the recording for further edification of materials. Class recordings that are posted to BB are for the sole purpose of this course. Disseminating any portion of this video in any manner is strictly prohibited. 


**Lecture videos**   

I will record and post the lecture videos on Black Board. 



## Lecture Notes {-#lecture-notes}


During the online lectures, I will use my iPad as a white board to teach. I will post these notes on this web page throughout the semester as well as the notes from the previous semester. 



- Here are my [hand-written lecture notes from the previous time](https://www.dropbox.com/s/e5c8qax19lkrrn3/EC%20282%20FALL%202020.pdf?dl=0) that I thought this course. 

- Here are the [lecture notes from the current semester](https://www.dropbox.com/s/oecrebseyksk570/EC%20282%20SPRING%202021.pdf?dl=0). 



## Tentative Schedule {-#tentative-schedule}

The key readings from Stock and Watson are indicated for each week. 

**Week 1-2**  
**Jan 21, Jan 25, Jan 28**


- Introduction to the course, logistics, syllabus, expectations and pap-talk.  
- Review of Probability (Chapter 2)   
        - Random sampling and the Distribution of the Sample Average  
        - Large-Sample Approximations to Sampling Distributions 

**Week 3**     
**Feb 1, Feb 4** 


- Review of Statistics (Chapter 3)   
      - Hypothesis Tests Concerning the Population Mean    
      - Confidence Intervals for the Population Mean 

**Week 4**     
**Feb 8** 
 

- Review of Statistics (Chapter 3)   
      - Comparing Means from Different Populations     
      - Scatterplots, the Sample Covariance, and the Sample Correlation

**Week 5**   
**Feb 15, Feb 18** 


- Linear Regression with One Regressor (Chapter 4)  
      - The Linear Regression Model   
      - Estimating the Coefficients of the Linear Regression Model   
      - Measures of Fit and Prediction Accuracy 
      
**Week 6**    
**Feb 22, Feb 25** 

- **Midterm I**

- Linear Regression with One Regressor (Chapter 4)   
      - The Least Squares Assumptions for Causal Inference   
      - The Sampling Distributions of the OLS Estimators    

**Week 7**    
**Mar 1, Mar 4**

- Linear Regression with One Regressor (Chapter 4)   
      - The Sampling Distributions of the OLS Estimators    

- Regression with a Single Regressor: Hypothesis Tests and Confidence Intervals (Chapter 5)  
      - Testing Hypotheses About One of the Regression Coefficients   

**Week 8**  
**Mar 8, Mar 11** 


- Regression with a Single Regressor: Hypothesis Tests and Confidence Intervals (Chapter 5)  
      - Confidence Intervals for a Regression Coefficient   
      - Regression when $X$ is a Binary Variable    
      
**Week 9**  
**Mar 15, Mar 18** 
   

- Linear Regression with Multiple Regressors (Chapter 6)       
      - Omitted Variable Bias   
      - The Multiple Regression Model   
      - The OLS Estimator in Multiple Regression     


**Week 10**  
**Mar 22, Mar 25** 


- Linear Regression with Multiple Regressors (Chapter 6)
      - Measures of Fit in Multiple Regression 
      - The Least Squares Assumptions for Causal Inference in Multiple Regression  

**Week 11**  
**Mar 29, Apr 1** 

- **Midterm II**  

- Linear Regression with Multiple Regressors (Chapter 6)
      - The Distribution of OLS Estimators in Multiple Regression   
      - Multicollinearity    

**Week 12**  
**Apr 5, Apr 8** 


- Linear Regression with Multiple Regressors (Chapter 6)
      - Control Variables and Conditional Mean Independence   

**Week 13**  
**Apr 12, Apr 15** 


- Hypothesis Tests and Confidence Intervals in Multiple Regression (Chapter 7)        
        - Hypothesis Tests and Confidence Intervals for a Single Coefficients     
        - Tests of Joint Hypotheses      
        - Testing Single Restrictions Involving Multiple Coefficients   
  

**Week 14**    
**Apr 22**     

- Nonlinear Regression Functions (Chapter 8)      
        - A General Strategy for Modeling Nonlinear Regression Functions   
        - Nonlinear Functions of a Single Independent Variable


**Week 15**   
**Apr 26, Apr 29**   

- Wrap up, last remarks, **Final Exam**. 





# General Rules and Principles 

## Installing R and RStudio 

```{css, echo=FALSE}
.badCode {
background-color: #ffffcf;
  color: black;
}
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#devtools::install_github("ropenscilabs/icon")
library(icon)

need <- c('glue', 'dplyr','readxl', 'haven', 'ggplot2','zoo','ggrepel','gganimate', 'tseries', 'devtools',
          'ggimage', 'ggthemes','tufte', 'formatR', 'magick', 'devtools', 'ISLR', 'AER', 'sandwich', 'het.test')

have <- need %in% rownames(installed.packages()) 
if(any(!have)) install.packages(need[!have],repos = "http://cran.us.r-project.org") 
invisible(lapply(need, library, character.only=T)) 

```


Here are the [instructions](https://courses.edx.org/courses/UTAustinX/UT.7.01x/3T2014/56c5437b88fa43cf828bff5371c6a924/) for installing R and RStudio on your Windows or Mac desktop. Skip the third part and do not install "SDSFoundations Package". 

## Basic rules and best practices 

All files should exist in a local folder that syncs to a cloud-storage service. No file you ever work on should be at risk of being lost if your computer ceases to function or be in your possesion. NEVER place any file on  "downloads" or "desktop" folders. 

Get a free cloud-storage service with a desktop application that syncs to a cloud-storage service. I like the [Dropbox desktop app](https://help.dropbox.com/installs-integrations/desktop/desktop-application-overview) but feel free to choose any other service. You don't need a lot of space so free version of any desktop cloud app would work. Under the Dropbox folder, create a designated folder for this course such as EC282. 

All subfolders under EC282 and files in them should have unique and descriptive construction: DON'T use spaces in file or folder names. Here is an example of a folder structure that might work for a student in this class: 


```
EC282
│  
│
└───Course_docs
│   │    SyllabusEC282.pdf
│   │    LectureNotes.pdf 
└───Assignments
│   └───Assignment1
│       │   dataset1name.Rda
│       │   Lastname_Firstname_Assignment1_EC282.R
│   └───Assignment2
│       │   dataset2name.Rda
│       │   Lastname_Firstname_Assignment1_EC282.R
│   └───Assignment3
│       │   dataset3name.Rda
│       │   Lastname_Firstname_Assignment3_EC282.R
│   └───Assignment4
│       │   dataset4name.Rda
│       │   Lastname_Firstname_Assignment4_EC282.R
│       │   ...
└───Exams
│   └───Midterm1
│       │   Midterm1Review.pdf
│       │   Midterm1Review_myanswers.docx
|       |   ...
│   
```

## Header

At the beginning of any R script, you should have a standard header that you use across all scripts that clears the workspace, loads/installs packages as necessary, sets the working directory, etc. Here is an example that you can copy paste to the header of any script that you use:


```{r echo = T, message=FALSE, warning=FALSE, results = 'hide'}
###############################################################################
# list the packages we need and loads them, installs them automatically if we don't have them
# add any package that you need to the list  
need <- c('glue', 'dplyr','readxl', 'ggplot2','tidyr','AER','scales','mvtnorm', 
          'stargazer','httr')

have <- need %in% rownames(installed.packages()) 
if(any(!have)) install.packages(need[!have]) 
invisible(lapply(need, library, character.only=T)) 

# To set up the working directory
getwd()
setwd(getwd()) #change getwd() here is you need to set a different working directory


#this clears the workspace
rm(list = ls()) 

###############################################################################
```


When coding, use relative references to files. Typically, any script will begin looking for files in the working directory. At any time you can type `getwd()` on your Rstudio console to see the current working directory. The header above automatically sets the working directory to the folder that the R script is included. For example, if you are working on `Lastname_Firstname_Assignment1_EC282.R` script and need to load file `dataset1name.Rda` into an object, then you would simply run:

```{r echo = T, eval=F}
load(dataset1name.Rda)
```






However, if you were working in the same .R file, and needed to access `dataset2name.Rda`, you would need to point the program to a directory outside the current working directory -- so, you go up one level, over one folder, and look there:
```{r echo = T, eval=F}
load(../Assignment2/dataset2name.Rda)
```

When learning R, the most important skill that you need to acquire is to be able to **google** your problem. There is probably not a single R question that you have yet has not been answered on [Stack Overflow](https://stackoverflow.com/). 



# Homework Assignments 

## How to submit homework assignments 

You can use a snipping tool to cut and paste the relevant output and figures from **RStudio** to the issue on **GitHub** under the assignment name. If you would like to have a more elegant looking output, I encourage you to learn more the ```stargazer``` package that transforms your analysis into publishable formats. 

## Assignment 1


**Deadline: Feb 7, 2021, Midnight**

**Source:** Stock and Watson, $4^{th}$ Edition, Exercise 2.1   
**Data Description:** The data set includes the joint probability distribution of ```age``` and average hourly earnings ```ahe``` for 25- to 34-year-old full-time workers in 2015 with an education level that exceeds a high school diploma, i.e. $P(age=x,ahe=y)$    

**Questions**  

**a.** Compute the marginal distribution of age, i.e $P(age=x)$ in a new data set. 
**b.** Compute the mean of ```ahe``` for each value of ```age```, i.e. compute $E[ahe|age=25]$, 
$E[ahe|age=26]$, etc. and plot these conditional expected values of ```ahe``` against ```age``` Are they related? Briefly comment.     
**c.** Compute the variance of ```ahe```.     
**d.** Compute the covariance between ```age``` and ```ahe```.     
**e.** Compute the correlation between ```age``` and ```ahe```.   
**f.** Relate your answers in (d) and (e) to the plot that you constructed in (a) 


**Header for the R script** 

Start a new R script, copy/paste the header below and save it to ```Dropbox\EC282\Assignment1``` or a similar path that you created for this homework assignment. Run the R script and make sure that you have the data ```df1``` in your environment. Conduct the analysis below the header. 

```{r echo = T, eval=F}
###############################################################################
# list the packages we need and loads them, installs them automatically if we don't have them
# add any package that you need to the list  
need <- c('glue', 'dplyr','readxl', 'ggplot2','tidyr','AER','scales','mvtnorm', 
          'stargazer','httr', 'repmis')

have <- need %in% rownames(installed.packages()) 
if(any(!have)) install.packages(need[!have]) 
invisible(lapply(need, library, character.only=T)) 

# Save the R script to the assignment 1 folder before this
# To set up the working directory
getwd()
setwd(getwd()) #change getwd() here is you need to set a different working directory


#this clears the workspace
rm(list = ls()) 
#this sets the random number generator seed to my birthday for replication

options(scipen=999)
###############################################################################
#get the data url 
df1.url <- 'https://www.dropbox.com/s/aieodljjthbdhks/Age_HourlyEarnings.xlsx?dl=1'
#download the data 
GET(df1.url, write_disk(tdf <- tempfile(fileext = ".xlsx")))
#check if it worked
df1 <- read_excel(tdf, col_names = FALSE, skip=1)[2:30,1:11] %>%
  rename(ahe = 1) %>%
  mutate(ahe = as.numeric(ahe)) %>%
  gather(key = "age", value="jointp", -c("ahe")) %>%
  mutate(age =  as.numeric(gsub(".*?([0-9]+).*", "\\1", age)) + 23)



head(df1)

#CONDUCT THE ANALYSIS BELOW

```



## Assignment 2

**Deadline: Feb 21, 2021, Midnight**

**Source:** **Source:** Stock and Watson, $4^{th}$ Edition, Exercise 3.1   


**Data description:** You can find the [data description  here](https://www.dropbox.com/s/7n79v2mjogzxv2j/CPS96_15_Description.pdf?dl=1
). 

**Questions** 

**a.** In 2015, the value of the Consumer Price Index (CPI) was 237.0. In 1996, the value of the CPI was 156.9. Create a new variable in your data frame that expressed all earnings in real 2015 dollars. Use this variable to answer the next questions.   

**b.** Construct a 95% confidence interval for the mean of ```ahe``` for high school graduates in 1996. 


**c.** Construct a 95% confidence interval for the mean of ```ahe``` for high school graduates in 2015. 


**d.** Construct a 95% confidence interval for the mean of ```ahe``` for college graduates in 1996. 

**e.** Construct a 95% confidence interval for the mean of ```ahe``` for college graduates in 2015.

**f.** Did the inflation adjusted wages of high school graduates increase from 1996 to 2015? Use statistical inference to answer. 

**g.** Did the inflation adjusted wages of collage graduates increase from 1996 to 2015? Use statistical inference to answer.

**h.** Did the gap between earnings of college and high school graduates increase? Use statistical inference to answer. 

**Header for the R script** 

Start a new R script, copy/paste the header below and save it to ```Dropbox\EC282\Assignment2``` or a similar path that you created for this homework assignment. Run the R script and make sure that you have the data ```df1``` in your environment. Conduct the analysis below the header. 

```{r echo = T, eval=F}
###############################################################################
# list the packages we need and loads them, installs them automatically if we don't have them
# add any package that you need to the list  
need <- c('glue', 'dplyr','readxl',  'ggplot2','tidyr','AER','scales','mvtnorm', 
          'stargazer','httr', 'repmis')

have <- need %in% rownames(installed.packages()) 
if(any(!have)) install.packages(need[!have]) 
invisible(lapply(need, library, character.only=T)) 

# Save the R script to the assignment 1 folder before this
# To set up the working directory
getwd()
setwd(getwd()) #change getwd() here is you need to set a different working directory


#this clears the workspace
rm(list = ls()) 
#this sets the random number generator seed to my birthday for replication


options(scipen=999)
###############################################################################
#get the data url 
df1.url <- 'https://www.dropbox.com/s/hbi82scuz9q4k11/CPS96_15.xlsx?dl=1'
#download the data 
GET(df1.url, write_disk(tdf <- tempfile(fileext = ".xlsx")))
#check if it worked
df1 <- read_excel(tdf) %>%
  mutate(ahe = ahe + rnorm(length(ahe)))



head(df1)

#CONDUCT THE ANALYSIS BELOW

```



## Assignment 3

**Deadline: March 7, 2021, Midnight**

**Source:** Stock and Watson, $4^{th}$ Edition, Exercise 4.1   


**Data description:** You can find the [data description  here](https://www.dropbox.com/s/3e24u6eymvmhldd/Growth_Description.pdf?dl=1
). 

**Questions** 

**a.** Construct a scatterplot of ```growth``` and ```tradesshare``` with a regression line fit on the top. 

**b.** Look at the data set and find Malta on your graph. Why is Malta an outlier? 

**c.** Using all the observations run a regression of ```growth``` on ```tradeshare```. Interpret the intercept and the slope. Predict the growth rate for a country with a trade share of 0.5 and another with a trade share equal to 1. 

**d.** Estimate the regression without Malta and interpret the coefficients. Should Malta be excluded from the regression? Briefly comment.  



**Header for the R script** 

Start a new R script, copy/paste the header below and save it to ```Dropbox\EC282\Assignment3``` or a similar path that you created for this homework assignment. Run the R script and make sure that you have the data ```df1``` in your environment. Conduct the analysis below the header. 

```{r echo = T, eval=F}
###############################################################################
# list the packages we need and loads them, installs them automatically if we don't have them
# add any package that you need to the list  
need <- c('glue', 'dplyr','readxl', 'ggplot2','tidyr','AER','scales','mvtnorm', 
          'stargazer','httr', 'repmis')

have <- need %in% rownames(installed.packages()) 
if(any(!have)) install.packages(need[!have]) 
invisible(lapply(need, library, character.only=T)) 

# Save the R script to the assignment 1 folder before this
# To set up the working directory
getwd()
setwd(getwd()) #change getwd() here is you need to set a different working directory


#this clears the workspace
rm(list = ls()) 
#this sets the random number generator seed to my birthday for replication

options(scipen=999)
###############################################################################
#get the data url 
df1.url <- 'https://www.dropbox.com/s/lbk73b0amzfj8px/Growth.xlsx?dl=1'
#download the data 
GET(df1.url, write_disk(tdf <- tempfile(fileext = ".xlsx")))
#check if it worked

df1 <- read_excel(tdf) %>%
  mutate(growth = growth + rnorm(length(growth))/5)



head(df1)

#CONDUCT THE ANALYSIS BELOW

```


## Assignment 4

**Deadline: Mar 21, 2021, Midnight**

**Source:** Stock and Watson, $4^{th}$ Edition, Exercise 5.3   


**Data description:** You can find the [data description  here](https://www.dropbox.com/s/s0q564v6lplbexu/Birthweight_Smoking_Description.pdf?dl=1
). 

**Questions** 

**a.** Run a regression of ```birthweight``` on ```age```. Interpret the coefficient on age. Is the coefficients statistically significant?

**b.** Estimate the mean and the standard error of birth weight for (i) mother who smoked during the pregnancy and (ii) mother who did not smoke during the pregnancy. 

**c.** Estimate the difference between (i) and (ii). Construct a 95% confidence interval for the difference in the average ```birthweight``` for smoking and nonsmoking mothers. 

**d.** Run a regression of ```birthweight``` on on the binary variable ```smoker``` explain how the estimated intercept, slope related to your previous answers. How about the standard error of $\hat{\beta}_1$? 

**Header for the R script** 

Start a new R script, copy/paste the header below and save it to ```Dropbox\EC282\Assignment4``` or a similar path that you created for this homework assignment. Run the R script and make sure that you have the data ```df1``` in your enviroment. Conduct the analysis below the header. 

```{r echo = T, eval=F}
###############################################################################
# list the packages we need and loads them, installs them automatically if we don't have them
# add any package that you need to the list  
need <- c('glue', 'dplyr','readxl',  'ggplot2','tidyr','AER','scales','mvtnorm', 
          'stargazer','httr', 'repmis')

have <- need %in% rownames(installed.packages()) 
if(any(!have)) install.packages(need[!have]) 
invisible(lapply(need, library, character.only=T)) 

# Save the R script to the assignment 1 folder before this
# To set up the working directory
getwd()
setwd(getwd()) #change getwd() here is you need to set a different working directory


#this clears the workspace
rm(list = ls()) 
#this sets the random number generator seed to my birthday for replication

options(scipen=999)
###############################################################################
#get the data url 
df1.url <- 'https://www.dropbox.com/s/z8r6hc0r4ytt4f8/birthweight_smoking.xlsx?dl=1'
#download the data 
GET(df1.url, write_disk(tdf <- tempfile(fileext = ".xlsx")))
#check if it worked
df1 <- read_excel(tdf) %>%
  mutate(birthweight = birthweight + rnorm(length(birthweight)) * 50)



head(df1)

#CONDUCT THE ANALYSIS BELOW

```



## Assignment 5

**Deadline: Apr 4, 2021, Midnight**

**Source:** Stock and Watson, $4^{th}$ Edition, Exercise 6.1

**Data description:** You can find the [data description  here](https://www.dropbox.com/s/s0q564v6lplbexu/Birthweight_Smoking_Description.pdf?dl=1
). 


**Questions** 

**a.** Regress (i) ```birthweight``` on ```smoker``` and (ii) ```birthweight``` on ```smoker```, ```alcohol```, and ```nprevist``` . Compare the estimated coefficient on ```smoker``` in (i) and (ii). Does the regression suffer from omitted variable bias? 

**b.** Predict the birthweight for a child whose mother smoked during the pregnancy, did not drink alcohol, and had 8 prenatal care visits. 

**c.** Compare the $R^2$ and adjusted-$R^2$ from (ii), why are they so similar? 


**Header for the R script** 

Start a new R script, copy/paste the header below and save it to ```Dropbox\EC282\Assignment5``` or a similar path that you created for this homework assignment. Run the R script and make sure that you have the data ```df1``` in your environment. Conduct the analysis below the header. 

```{r echo = T, eval=F}
###############################################################################
# list the packages we need and loads them, installs them automatically if we don't have them
# add any package that you need to the list  
need <- c('glue', 'dplyr','readxl', 'ggplot2','tidyr','AER','scales','mvtnorm', 
          'stargazer','httr', 'repmis')

have <- need %in% rownames(installed.packages()) 
if(any(!have)) install.packages(need[!have]) 
invisible(lapply(need, library, character.only=T)) 

# Save the R script to the assignment 1 folder before this
# To set up the working directory
getwd()
setwd(getwd()) #change getwd() here is you need to set a different working directory


#this clears the workspace
rm(list = ls()) 
#this sets the random number generator seed to my birthday for replication

options(scipen=999)
###############################################################################
#get the data url 
df1.url <- 'https://www.dropbox.com/s/z8r6hc0r4ytt4f8/birthweight_smoking.xlsx?dl=1'
#download the data 
GET(df1.url, write_disk(tdf <- tempfile(fileext = ".xlsx")))
#check if it worked
df1 <- read_excel(tdf) %>%
    mutate(birthweight = birthweight + rnorm(length(birthweight)) * 50)



head(df1)

#CONDUCT THE ANALYSIS BELOW

```


## Assignment 6

**Deadline: Apr 18, 2021, Midnight**

**Source:** Stock and Watson, $4^{th}$ Edition, Exercise 7.1

**Data description:** You can find the [data description  here](https://www.dropbox.com/s/s0q564v6lplbexu/Birthweight_Smoking_Description.pdf?dl=1
). 



**Questions** 

**a.** Regress (i) ```birthweight``` on ```smoker```, ```alcohol```,```nprevist```, and ```unmarried```. Interpret the coefficient on ```unmarried```. 

**b.** Construct a 95% confidence interval on for the coefficient. Is it statistically significant? Is the magnitude of the coefficient large? 

**c.** Looking at this regression, a family advocacy group claims that higher rates of marriage will lead to healthier babies thus one obviuous public policy is to encourage marriage. Do you agree? 

**d.** Consider the data set that you have and briefly discuss what variables can be added to the regression to help to solve question (c). 

**e.** Run the regression with these additional controls. How did the coefficient on marriage has changed with these additional controls. 



**Header for the R script** 

Start a new R script, copy/paste the header below and save it to ```Dropbox\EC282\Assignment6``` or a similar path that you created for this homework assignment. Run the R script and make sure that you have the data ```df1``` in your environment. Conduct the analysis below the header. 

```{r echo = T, eval=F}
###############################################################################
# list the packages we need and loads them, installs them automatically if we don't have them
# add any package that you need to the list  
need <- c('glue', 'dplyr','readxl', 'ggplot2','tidyr','AER','scales','mvtnorm', 
          'stargazer','httr', 'repmis')

have <- need %in% rownames(installed.packages()) 
if(any(!have)) install.packages(need[!have]) 
invisible(lapply(need, library, character.only=T)) 

# Save the R script to the assignment 1 folder before this
# To set up the working directory
getwd()
setwd(getwd()) #change getwd() here is you need to set a different working directory


#this clears the workspace
rm(list = ls()) 
#this sets the random number generator seed to my birthday for replication

options(scipen=999)
###############################################################################
#get the data url 
df1.url <- 'https://www.dropbox.com/s/z8r6hc0r4ytt4f8/birthweight_smoking.xlsx?dl=1'
#download the data 
GET(df1.url, write_disk(tdf <- tempfile(fileext = ".xlsx")))
#check if it worked
df1 <- read_excel(tdf) %>%
    mutate(birthweight = birthweight + rnorm(length(birthweight)) * 50)



head(df1)

#CONDUCT THE ANALYSIS BELOW

```


## Assignment 7

**Deadline: Apr 25, 2021, Midnight**

**Source:** Stock and Watson, $4^{th}$ Edition, Exercise 8.1

**Data description:** You can find the [data description  here](https://www.dropbox.com/s/xdensdqj97bf2cj/Lead_Mortality_Description.pdf?dl=1
). 

**Questions** 

**a.** Using a regression, show the average infant mortality rate ```infrate``` for for cities with lead pipes and for cities with nonlead pipes. Is there a statistically significant different in the averages?

**b.** Amount of lead leached from lead pipes depends on the chemistry of the water running through the pipes. Lower the ```ph```, more asidic the water is and the more lead is leached. Run a regression of ```infrate``` on ```lead```, ```ph```, and the interaction term  ```lead``` $times$ ```ph```

**c.** Does ```lead``` have a statistically significant effect on infant mortality? Explain. 

**d.** Does the effect of ```lead``` on infant mortality depend on ```ph```? Is this dependence statistically significant? 

**e.** Construct a 95% confidence interval for the effect of ```lead``` on infant mortality when ```ph``` is 6.5 



**Header for the R script** 

Start a new R script, copy/paste the header below and save it to ```Dropbox\EC282\Assignment7``` or a similar path that you created for this homework assignment. Run the R script and make sure that you have the data ```df1``` in your environment. Conduct the analysis below the header. 

```{r echo = T, eval=F}
###############################################################################
# list the packages we need and loads them, installs them automatically if we don't have them
# add any package that you need to the list  
need <- c('glue', 'dplyr','readxl', 'ggplot2','tidyr','AER','scales','mvtnorm', 
          'stargazer','httr', 'repmis')

have <- need %in% rownames(installed.packages()) 
if(any(!have)) install.packages(need[!have]) 
invisible(lapply(need, library, character.only=T)) 

# Save the R script to the assignment 1 folder before this
# To set up the working directory
getwd()
setwd(getwd()) #change getwd() here is you need to set a different working directory


#this clears the workspace
rm(list = ls()) 
#this sets the random number generator seed to my birthday for replication

options(scipen=999)
###############################################################################
#get the data url 
df1.url <- 'https://www.dropbox.com/s/5nszqnejl7uu9f5/lead_mortality.xlsx?dl=1'
#download the data 
GET(df1.url, write_disk(tdf <- tempfile(fileext = ".xlsx")))
#check if it worked
df1 <- read_excel(tdf) %>%
  mutate(infrate1 = infrate + rnorm(length(infrate))/50)



head(df1)

#CONDUCT THE ANALYSIS BELOW

```


