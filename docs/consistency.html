<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Consistency | EC282 INTRODUCTION TO ECONOMETRICS</title>
  <meta name="description" content="This book teaches econometrics like a 21st century humanoid would want to learn it." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Consistency | EC282 INTRODUCTION TO ECONOMETRICS" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book teaches econometrics like a 21st century humanoid would want to learn it." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Consistency | EC282 INTRODUCTION TO ECONOMETRICS" />
  
  <meta name="twitter:description" content="This book teaches econometrics like a 21st century humanoid would want to learn it." />
  

<meta name="author" content="Onur Altındağ" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="hypothesis-testing.html">
<link rel="next" href="references.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Course Logistics and using R</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#goals"><i class="fa fa-check"></i><b>1.1</b> Goals</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#course-information"><i class="fa fa-check"></i><b>1.2</b> Course information</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#requirements"><i class="fa fa-check"></i><b>1.3</b> Requirements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>3</b> Introduction</a><ul>
<li class="chapter" data-level="3.1" data-path="introduction-1.html"><a href="introduction-1.html#goals-1"><i class="fa fa-check"></i><b>3.1</b> Goals</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-1.html"><a href="introduction-1.html#r-and-rstudio"><i class="fa fa-check"></i><b>3.2</b> R and RStudio</a><ul>
<li class="chapter" data-level="3.2.1" data-path="introduction-1.html"><a href="introduction-1.html#notes"><i class="fa fa-check"></i><b>3.2.1</b> Notes</a></li>
<li class="chapter" data-level="3.2.2" data-path="introduction-1.html"><a href="introduction-1.html#install-r-and-r-studio"><i class="fa fa-check"></i><b>3.2.2</b> Install R and R studio</a></li>
<li class="chapter" data-level="3.2.3" data-path="introduction-1.html"><a href="introduction-1.html#basic-rules-and-best-practices"><i class="fa fa-check"></i><b>3.2.3</b> Basic rules and best practices</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><a href="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><i class="fa fa-check"></i><b>4</b> Generating (population) data, sampling from the population, and deriving sample estimates of population parameters</a><ul>
<li class="chapter" data-level="4.1" data-path="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><a href="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html#goals-2"><i class="fa fa-check"></i><b>4.1</b> Goals</a></li>
<li class="chapter" data-level="4.2" data-path="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><a href="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html#overview"><i class="fa fa-check"></i><b>4.2</b> Overview</a></li>
<li class="chapter" data-level="4.3" data-path="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><a href="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html#generating-data-from-a-known-linear-univariate-dgp"><i class="fa fa-check"></i><b>4.3</b> Generating data from a known linear univariate DGP</a></li>
<li class="chapter" data-level="4.4" data-path="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><a href="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html#sampling-from-the-population"><i class="fa fa-check"></i><b>4.4</b> Sampling from the population</a></li>
<li class="chapter" data-level="4.5" data-path="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><a href="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html#calculating-sample-estimates"><i class="fa fa-check"></i><b>4.5</b> Calculating sample estimates</a></li>
<li class="chapter" data-level="4.6" data-path="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><a href="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html#plot-the-data-with-the-fitted-line"><i class="fa fa-check"></i><b>4.6</b> Plot the data with the fitted line</a></li>
<li class="chapter" data-level="4.7" data-path="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><a href="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html#calculating-tss-ess-and-r2"><i class="fa fa-check"></i><b>4.7</b> Calculating TSS, ESS, and <span class="math inline">\(R^2\)</span></a></li>
<li class="chapter" data-level="4.8" data-path="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html"><a href="generating-population-data-sampling-from-the-population-and-deriving-sample-estimates-of-population-parameters.html#algebraic-properties-of-the-estimator"><i class="fa fa-check"></i><b>4.8</b> Algebraic properties of the estimator</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="partialling-out.html"><a href="partialling-out.html"><i class="fa fa-check"></i><b>5</b> Partialling out</a><ul>
<li class="chapter" data-level="5.1" data-path="partialling-out.html"><a href="partialling-out.html#goals-3"><i class="fa fa-check"></i><b>5.1</b> Goals</a></li>
<li class="chapter" data-level="5.2" data-path="partialling-out.html"><a href="partialling-out.html#overview-1"><i class="fa fa-check"></i><b>5.2</b> Overview</a></li>
<li class="chapter" data-level="5.3" data-path="partialling-out.html"><a href="partialling-out.html#generating-data-from-a-known-linear-multivariate-dgp"><i class="fa fa-check"></i><b>5.3</b> Generating data from a known linear multivariate DGP</a></li>
<li class="chapter" data-level="5.4" data-path="partialling-out.html"><a href="partialling-out.html#sampling-from-the-population-1"><i class="fa fa-check"></i><b>5.4</b> Sampling from the population</a></li>
<li class="chapter" data-level="5.5" data-path="partialling-out.html"><a href="partialling-out.html#calculating-sample-estimates-1"><i class="fa fa-check"></i><b>5.5</b> Calculating sample estimates</a></li>
<li class="chapter" data-level="5.6" data-path="partialling-out.html"><a href="partialling-out.html#partialling-out-extracting-the-unique-information-in-x_1"><i class="fa fa-check"></i><b>5.6</b> Partialling out: extracting the unique information in <span class="math inline">\(x_1\)</span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sampling-distribution.html"><a href="sampling-distribution.html"><i class="fa fa-check"></i><b>6</b> Sampling distribution</a><ul>
<li class="chapter" data-level="6.1" data-path="sampling-distribution.html"><a href="sampling-distribution.html#goals-4"><i class="fa fa-check"></i><b>6.1</b> Goals</a></li>
<li class="chapter" data-level="6.2" data-path="sampling-distribution.html"><a href="sampling-distribution.html#overview-2"><i class="fa fa-check"></i><b>6.2</b> Overview</a></li>
<li class="chapter" data-level="6.3" data-path="sampling-distribution.html"><a href="sampling-distribution.html#generating-data-from-a-known-linear-univariate-dgp-1"><i class="fa fa-check"></i><b>6.3</b> Generating data from a known linear univariate DGP</a></li>
<li class="chapter" data-level="6.4" data-path="sampling-distribution.html"><a href="sampling-distribution.html#sampling-from-the-population-2"><i class="fa fa-check"></i><b>6.4</b> Sampling from the population</a></li>
<li class="chapter" data-level="6.5" data-path="sampling-distribution.html"><a href="sampling-distribution.html#properties-of-the-empirical-simulations"><i class="fa fa-check"></i><b>6.5</b> Properties of the empirical simulations</a></li>
<li class="chapter" data-level="6.6" data-path="sampling-distribution.html"><a href="sampling-distribution.html#changing-the-error-variance"><i class="fa fa-check"></i><b>6.6</b> Changing the error variance</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html"><i class="fa fa-check"></i><b>7</b> Hypothesis testing</a><ul>
<li class="chapter" data-level="7.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#goals-previous"><i class="fa fa-check"></i><b>7.1</b> Goals (previous)</a></li>
<li class="chapter" data-level="7.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#goals-current"><i class="fa fa-check"></i><b>7.2</b> Goals (current)</a></li>
<li class="chapter" data-level="7.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#overview-3"><i class="fa fa-check"></i><b>7.3</b> Overview</a></li>
<li class="chapter" data-level="7.4" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#generating-data-from-a-known-linear-univariate-dgp-2"><i class="fa fa-check"></i><b>7.4</b> Generating data from a known linear univariate DGP</a></li>
<li class="chapter" data-level="7.5" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#sampling-from-the-population-3"><i class="fa fa-check"></i><b>7.5</b> Sampling from the population</a></li>
<li class="chapter" data-level="7.6" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#properties-of-the-empirical-simulations-1"><i class="fa fa-check"></i><b>7.6</b> Properties of the empirical simulations</a><ul>
<li class="chapter" data-level="7.6.1" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#what-values-of-b1-hat-define-the-cutoff-for-the-5-of-observations-in-either-tail"><i class="fa fa-check"></i><b>7.6.1</b> What values of B1 hat define the cutoff for the 5% of observations in either tail?</a></li>
<li class="chapter" data-level="7.6.2" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#divide-all-values-of-b1-hat-by-the-standard-deviation-of-the-distribution-of-b1-hats."><i class="fa fa-check"></i><b>7.6.2</b> Divide all values of B1 hat by the standard deviation of the distribution of b1 hats.</a></li>
<li class="chapter" data-level="7.6.3" data-path="hypothesis-testing.html"><a href="hypothesis-testing.html#randomly-sample-coefficients-from-the-distribution-until-you-get-one-that-is-in-the-5-tails."><i class="fa fa-check"></i><b>7.6.3</b> Randomly sample coefficients from the distribution until you get one that is in the 5% tails.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="consistency.html"><a href="consistency.html"><i class="fa fa-check"></i><b>8</b> Consistency</a><ul>
<li class="chapter" data-level="8.1" data-path="consistency.html"><a href="consistency.html#goals-previous-1"><i class="fa fa-check"></i><b>8.1</b> Goals (previous)</a></li>
<li class="chapter" data-level="8.2" data-path="consistency.html"><a href="consistency.html#goals-current-1"><i class="fa fa-check"></i><b>8.2</b> Goals (current)</a></li>
<li class="chapter" data-level="8.3" data-path="consistency.html"><a href="consistency.html#overview-4"><i class="fa fa-check"></i><b>8.3</b> Overview</a></li>
<li class="chapter" data-level="8.4" data-path="consistency.html"><a href="consistency.html#generating-data-from-a-known-linear-univariate-dgp-3"><i class="fa fa-check"></i><b>8.4</b> Generating data from a known linear univariate DGP</a></li>
<li class="chapter" data-level="8.5" data-path="consistency.html"><a href="consistency.html#sampling-from-the-population-4"><i class="fa fa-check"></i><b>8.5</b> Sampling from the population</a></li>
<li class="chapter" data-level="8.6" data-path="consistency.html"><a href="consistency.html#properties-of-the-empirical-simulations-2"><i class="fa fa-check"></i><b>8.6</b> Properties of the empirical simulations</a><ul>
<li class="chapter" data-level="8.6.1" data-path="consistency.html"><a href="consistency.html#what-values-of-b1-hat-define-the-cutoff-for-the-5-of-observations-in-either-tail-1"><i class="fa fa-check"></i><b>8.6.1</b> What values of B1 hat define the cutoff for the 5% of observations in either tail?</a></li>
<li class="chapter" data-level="8.6.2" data-path="consistency.html"><a href="consistency.html#divide-all-values-of-b1-hat-by-the-standard-deviation-of-the-distribution-of-b1-hats.-1"><i class="fa fa-check"></i><b>8.6.2</b> Divide all values of B1 hat by the standard deviation of the distribution of b1 hats.</a></li>
<li class="chapter" data-level="8.6.3" data-path="consistency.html"><a href="consistency.html#randomly-sample-coefficients-from-the-distribution-until-you-get-one-that-is-in-the-5-tails.-1"><i class="fa fa-check"></i><b>8.6.3</b> Randomly sample coefficients from the distribution until you get one that is in the 5% tails.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EC282 INTRODUCTION TO ECONOMETRICS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="consistency" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Consistency</h1>
<style type="text/css">
.badCode {
background-color: #ffffcf;
  color: black;
}
</style>
<div id="goals-previous-1" class="section level2">
<h2><span class="header-section-number">8.1</span> Goals (previous)</h2>
<ul>
<li><p>Simulate a data-generating process (DGP) from scratch, given the population parameters</p></li>
<li><p>Show how to sample from the DGP numerous times, with each sample generating a sample estimate</p></li>
<li><p>Show that these sets of sampling estimates follow a distribution</p></li>
<li><p><strong>Note</strong> : Code chunks with STUDENTS are for intented to teach students, CHALLENGE are challenging but students with some programming skills can easily learn, PROF are for students with advanced programming skills and instructors.</p></li>
</ul>
</div>
<div id="goals-current-1" class="section level2">
<h2><span class="header-section-number">8.2</span> Goals (current)</h2>
<ul>
<li>Show a sampling distribution when true <span class="math inline">\(\beta_1 = 0\)</span>.</li>
</ul>
</div>
<div id="overview-4" class="section level2">
<h2><span class="header-section-number">8.3</span> Overview</h2>
<ul>
<li>We follow the univariate DGP from before. We then loop our process to generate many samples, each with its own estimate of <span class="math inline">\(\beta_1\)</span>. We then graph the distribution of the estimates and look at their properties.</li>
<li>The only change here is to set <span class="math inline">\(\beta_1= 0\)</span> in the DGP.</li>
</ul>
<p>In this problem set, you generated sampling distributions of (β_1 ) ̂ when U ~ N(0,5), and were taking 1,000 samples of 1,000 observations each. Construct a “population” dataset with 1,000,000 observations with this same DGP (all other parameters of the setup stay the same).
Take 1,000 samples (and get the empirical variance of (β_1 ) ̂) based on sampling 10,, 100, 1,000, and 10,000 observations each time (so, 1,000 samples of 10 observations, 1000 samples of 100 observations, etc.).
Plot the 4 histograms (or density plots) that result from these simulations. Either place all 4 histograms on the same plot, or make the x-axis on all 4 the same range.
Make another plot, which on the x-axis has the sample size you were using, and on the y-axis you have the empirical variance across the 1,000 draws.
Advanced-extra credit on this PS. Iterate through equally-spaced bins of sample size (instead of 10, 100, 1000, etc. start at 500, then 1000, then 1500, up to some high number) so that you can get the shape of the curve in part (c) instead of just 4 (x,y) points to plot.</p>
</div>
<div id="generating-data-from-a-known-linear-univariate-dgp-3" class="section level2">
<h2><span class="header-section-number">8.4</span> Generating data from a known linear univariate DGP</h2>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" title="1">n &lt;-<span class="st"> </span><span class="dv">1000000</span></a>
<a class="sourceLine" id="cb79-2" title="2">u&lt;-<span class="kw">rnorm</span>(n, <span class="dv">0</span>, <span class="kw">sqrt</span>(<span class="dv">9</span>))</a>
<a class="sourceLine" id="cb79-3" title="3">x&lt;-<span class="kw">rnorm</span>(n, <span class="dv">10</span>,<span class="kw">sqrt</span>(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb79-4" title="4">beta0&lt;-<span class="dv">1</span></a>
<a class="sourceLine" id="cb79-5" title="5">beta1&lt;-<span class="dv">0</span></a>
<a class="sourceLine" id="cb79-6" title="6">y&lt;-beta0<span class="op">+</span>beta1<span class="op">*</span>x<span class="op">+</span>u</a>
<a class="sourceLine" id="cb79-7" title="7">df&lt;-<span class="kw">data.frame</span>(y,x,u) </a>
<a class="sourceLine" id="cb79-8" title="8"><span class="kw">head</span>(df)</a></code></pre></div>
<pre><code>##            y        x          u
## 1  0.2117031 10.49637 -0.7882969
## 2  1.9931879 10.45746  0.9931879
## 3 -2.8702541 11.68836 -3.8702541
## 4 -0.2614506 10.14413 -1.2614506
## 5  1.4951523 10.01319  0.4951523
## 6  7.5798110 10.03691  6.5798110</code></pre>
</div>
<div id="sampling-from-the-population-4" class="section level2">
<h2><span class="header-section-number">8.5</span> Sampling from the population</h2>
<ul>
<li>Next, we will take 1,000 samples of 1,000 observation from the population data, with each sample yielding us a <span class="math inline">\(\hat{\beta_0}\)</span> and <span class="math inline">\(\hat{\beta_1}\)</span>.</li>
</ul>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" title="1">b_<span class="dv">0</span>&lt;-<span class="kw">c</span>()</a>
<a class="sourceLine" id="cb81-2" title="2">b_<span class="dv">1</span>&lt;-<span class="kw">c</span>()</a>
<a class="sourceLine" id="cb81-3" title="3"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">1000</span>){ </a>
<a class="sourceLine" id="cb81-4" title="4">sff&lt;-<span class="st"> </span>df[<span class="kw">sample</span>(<span class="kw">nrow</span>(df), <span class="dv">1000</span>, <span class="dt">replace=</span><span class="ot">FALSE</span>), ]</a>
<a class="sourceLine" id="cb81-5" title="5">estimates&lt;-<span class="kw">lm</span>(y<span class="op">~</span>x, sff)</a>
<a class="sourceLine" id="cb81-6" title="6">b_<span class="dv">0</span>[i]&lt;-<span class="kw">coef</span>(estimates)[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb81-7" title="7">b_<span class="dv">1</span>[i]&lt;-<span class="kw">coef</span>(estimates)[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb81-8" title="8">}</a>
<a class="sourceLine" id="cb81-9" title="9">coeff&lt;-<span class="kw">data.frame</span>(b_<span class="dv">0</span>, b_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb81-10" title="10"><span class="kw">head</span>(coeff)</a></code></pre></div>
<pre><code>##          b_0          b_1
## 1  0.5865453  0.040840194
## 2  1.4482701 -0.048574735
## 3  0.9756452  0.005668765
## 4 -0.0979289  0.110855352
## 5  2.5829476 -0.151528630
## 6  0.4448188  0.062706428</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" title="1"><span class="kw">ggplot</span>(coeff, <span class="kw">aes</span>(<span class="dt">x=</span>b_<span class="dv">0</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb83-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;pink&quot;</span>, <span class="dt">binwidth =</span> <span class="fl">0.05</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb83-3" title="3"><span class="st">   </span><span class="kw">ggtitle</span>(<span class="st">&#39;TKtitle&#39;</span>) </a></code></pre></div>
<p><img src="Metrics_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" title="1"><span class="kw">ggplot</span>(coeff, <span class="kw">aes</span>(<span class="dt">x=</span>b_<span class="dv">1</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb84-2" title="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;pink&quot;</span>, <span class="dt">binwidth =</span> <span class="fl">0.05</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb84-3" title="3"><span class="st">   </span><span class="kw">ggtitle</span>(<span class="st">&#39;TKtitle&#39;</span>) </a></code></pre></div>
<p><img src="Metrics_files/figure-html/unnamed-chunk-38-2.png" width="672" /></p>
</div>
<div id="properties-of-the-empirical-simulations-2" class="section level2">
<h2><span class="header-section-number">8.6</span> Properties of the empirical simulations</h2>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" title="1"><span class="kw">mean</span>(coeff<span class="op">$</span>b_<span class="dv">0</span>)</a></code></pre></div>
<pre><code>## [1] 0.9607526</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" title="1"><span class="kw">mean</span>(coeff<span class="op">$</span>b_<span class="dv">1</span>)</a></code></pre></div>
<pre><code>## [1] 0.003667223</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" title="1"><span class="kw">var</span>(coeff<span class="op">$</span>b_<span class="dv">0</span>)</a></code></pre></div>
<pre><code>## [1] 0.9214121</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" title="1"><span class="kw">var</span>(coeff<span class="op">$</span>b_<span class="dv">1</span>)</a></code></pre></div>
<pre><code>## [1] 0.009174074</code></pre>
<div id="what-values-of-b1-hat-define-the-cutoff-for-the-5-of-observations-in-either-tail-1" class="section level3">
<h3><span class="header-section-number">8.6.1</span> What values of B1 hat define the cutoff for the 5% of observations in either tail?</h3>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" title="1"><span class="kw">quantile</span>(coeff<span class="op">$</span>b_<span class="dv">1</span>, <span class="kw">c</span>(.<span class="dv">05</span>, <span class="fl">.95</span>)) </a></code></pre></div>
<pre><code>##         5%        95% 
## -0.1492310  0.1640644</code></pre>
</div>
<div id="divide-all-values-of-b1-hat-by-the-standard-deviation-of-the-distribution-of-b1-hats.-1" class="section level3">
<h3><span class="header-section-number">8.6.2</span> Divide all values of B1 hat by the standard deviation of the distribution of b1 hats.</h3>
<p>What value of this transformed B1 hat defines the cutoff for the 5% of observations with the largest absolute value you get in the (transformed) sampling distribution?</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" title="1">coeff<span class="op">$</span>b_<span class="dv">1</span>_transformed &lt;-<span class="st"> </span>coeff<span class="op">$</span>b_<span class="dv">1</span><span class="op">/</span><span class="kw">sd</span>(coeff<span class="op">$</span>b_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb95-2" title="2"><span class="kw">quantile</span>(coeff<span class="op">$</span>b_<span class="dv">1</span>_transformed, <span class="kw">c</span>(.<span class="dv">05</span>, <span class="fl">.95</span>)) </a></code></pre></div>
<pre><code>##        5%       95% 
## -1.558038  1.712905</code></pre>
</div>
<div id="randomly-sample-coefficients-from-the-distribution-until-you-get-one-that-is-in-the-5-tails.-1" class="section level3">
<h3><span class="header-section-number">8.6.3</span> Randomly sample coefficients from the distribution until you get one that is in the 5% tails.</h3>
<ul>
<li>How many tries does it take to get a value “far away” from the true value?</li>
</ul>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" title="1">tails&lt;-<span class="kw">quantile</span>(coeff<span class="op">$</span>b_<span class="dv">1</span>, <span class="kw">c</span>(.<span class="dv">05</span>, <span class="fl">.95</span>)) </a>
<a class="sourceLine" id="cb97-2" title="2">sample_beta1&lt;-<span class="dv">0</span> <span class="co">#start by setting this to zero for the while loop</span></a>
<a class="sourceLine" id="cb97-3" title="3">i&lt;-<span class="dv">1</span> <span class="co">#loop counter for print</span></a>
<a class="sourceLine" id="cb97-4" title="4"><span class="cf">while</span> (sample_beta1<span class="op">&gt;=</span>tails[<span class="dv">1</span>] <span class="op">&amp;</span><span class="st"> </span>sample_beta1<span class="op">&lt;=</span>tails[<span class="dv">2</span>]) {</a>
<a class="sourceLine" id="cb97-5" title="5">  sample_beta1&lt;-<span class="kw">sample</span>(coeff<span class="op">$</span>b_<span class="dv">1</span>,<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb97-6" title="6">  <span class="kw">print</span>(<span class="kw">paste0</span>(<span class="st">&#39;Sample number &#39;</span>,i,<span class="st">&quot;: &quot;</span>,sample_beta1))</a>
<a class="sourceLine" id="cb97-7" title="7">  i&lt;-i<span class="op">+</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb97-8" title="8">}</a></code></pre></div>
<pre><code>## [1] &quot;Sample number 1: 0.034078008449304&quot;
## [1] &quot;Sample number 2: -0.060571914180609&quot;
## [1] &quot;Sample number 3: -0.0112119751697641&quot;
## [1] &quot;Sample number 4: -0.0701335192419715&quot;
## [1] &quot;Sample number 5: -0.0342942520155939&quot;
## [1] &quot;Sample number 6: -0.0560707104786931&quot;
## [1] &quot;Sample number 7: 0.079284782714954&quot;
## [1] &quot;Sample number 8: 0.0401660398633941&quot;
## [1] &quot;Sample number 9: 0.053062886886849&quot;
## [1] &quot;Sample number 10: -0.311000129203764&quot;</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="hypothesis-testing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["Metrics.pdf", "Metrics.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
